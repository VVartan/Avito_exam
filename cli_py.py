# -*- coding: utf-8 -*-
"""cli.py

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1UY8T0MiUlBb_tQec6uTzlhf5gxCfgdyq
"""

import click
from pizza import Margherita, Pepperoni, Hawaiian
from typing import Callable
from functools import wraps
import random

Pizza_menu = { "pepperoni": Pepperoni(),
               "margherita": Margherita(),  
               "hawaiian": Hawaiian()}

def log(message: str):    

    def wrapper(func):       

        def inner(*args, **kwargs) -> str:
            
            print(time = random.randint(0, 30))
            res = func(*args, **kwargs)
            return res

        return inner

    return wrapper


@log("üë©‚Äçüç≥ –ü—Ä–∏–≥–æ—Ç–æ–≤–∏–º –∑–∞ {} –º–∏–Ω")
def bake(pizza):    
    pass


@log("üõµ –î–æ—Å—Ç–∞–≤–∏–º –ø–∏—Ü—Ü—É –¥–æ–º–æ–π —á–µ—Ä–µ–∑ {} –º–∏–Ω")
def delivery(pizza):    
    pass

@log("üè° –ú–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –ø–∏—Ü—Ü—É –¥–æ–º–æ–π —á–µ—Ä–µ–∑ {} –º–∏–Ω")
def pickup(pizza):    
    pass


@click.group()
def cli():
    pass
 
@cli.command()
@click.option("--delivery", default=False, is_flag=True)
@click.argument("pizza", nargs=1)

def order(pizza, delivery_flag):
    if pizza not in Pizza_menu:
        print(
            "–¢–∞–∫–æ–π –ø–∏—Ü—Ü—ã –Ω–µ—Ç"
        )
        return
    
    if delivery_flag:
        print(bake(pizza), deliver(pizza), sep="\n")
    else:
        print(bake(pizza), pickup(pizza), sep="\n")
    
@cli.command()
def menu():
    for pizza in Pizza_menu.values():
        print(f'- {pizza}: {", ".join(pizza.dict())}')

if __name__ == "__main__":
     Cli()